<div id="customers">

  <md-toolbar class="md-accent" id="customersToolbar">

    <div class="md-toolbar-tools">
      <h1>{{ $state.current.data.pageTitle }}</h1>
      <span flex></span>
      <md-button
        class="md-fab md-primary"
        aria-label="Tools"
        ng-click="openFormDialog('create')">
        <ng-md-icon icon="add"></ng-md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-content flex layout-padding
              class="grid-container"
              id="customersGridContainer">

    <div ui-grid="gridOptions"
         ui-grid-selection
         ui-grid-resize-columns
         ng-if="gridOptions.data"
         class="grid"></div>
    <md-progress-linear md-mode="indeterminate"
                        ng-show="processing"></md-progress-linear>
  </md-content>

</div>

<div style="visibility: hidden">
  <div class="md-dialog-container" id="customerDialogContainer">
    <md-dialog aria-label="{{ dialogAction }} Customer account dialog" layout-padding>
      <md-dialog-title>
        <h3>{{ dialogAction.string }} Customer</h3>
        <p ng-if="customer.id">{{ customer.id }}</p>
      </md-dialog-title>

      <!--<md-list flex ng-show="confirmations.length">
        <md-subheader class="md-no-sticky md-accent"
                      md-colors="{background: 'green'}"
                      md-colors-watch="false">Success!
        </md-subheader>
        <md-list-item class="md-1-line" ng-repeat="msg in confirmations">
          <p><em>{{ msg }}</em></p>
        </md-list-item>
      </md-list>-->

      <md-dialog-content layout="column" class="form">

        <form name="customerForm" role="form">
          <ng-include src="'tpl/forms/customer.html'"></ng-include>
        </form>

      </md-dialog-content>
      <md-dialog-actions>
        <md-button ng-click="saveCustomer($event)"
                   class="md-primary"
                   ng-disabled="customerForm.$invalid || customerForm.$pending || processing"
                   type="submit">Save
        </md-button>
        <md-button ng-click="closeFormDialog()">Close</md-button>
      </md-dialog-actions>
    </md-dialog>

    <!--<div class="underlay" ng-show="processing">
      <div layout="row" layout-sm="column" layout-align="space-around">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </div>
    </div>-->

  </div>
</div>
